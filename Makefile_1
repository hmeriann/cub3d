NAME	= cub3d

HEADER	= ../../include/cub3d.h

CFLAGS	= -g -Wall -Wextra -Werror -I.
INCLUDES = -I./include -I src/libft/libft.a -I./src/mlx/
FRAMEWORK	=	-framework OpenGL -framework AppKit
LIBFT		= ./src/libft/libft.a

CC		= cc

RM		= rm -f

SRCS	= ./src/main.c \
		./src/parser/ft_parser.c \
		./src/parser/ft_checks.c \
		./src/parser/ft_print_error.c \
		./src/parser/ft_gets.c \
		./src/parser/ft_map.c \
		./src/utils/ft_common_checks.c \
		./src/logic/window.c \
		./src/logic/game.c \
		./src/logic/hooks.c \
		./src/logic/rays.c \
		./src/logic/rays_checks.c \
		./src/logic/get_img.c \
		./src/logic/get_img_helpers.c \
		./src/logic/inicialise_structs.c \
		./src/logic/mooving.c \
		./src/logic/save.c \
		./src/logic/utils.c \
		./src/logic/utils_0.c \
		./src/logic/utils_1.c \
		./src/logic/utils_2.c \
		./src/logic/utils_3.c \
		./src/logic/utils_4.c \
		./src/logic/utils_5.c \

OBJS	= ${SRCS:.c=.o}

$(NAME):	$(OBJS) $(HEADER)
			@$(MAKE) -C $(dir $(MLX)) 2> /dev/null
			@$(MAKE) -C $(dir $(LIB))
			@$(CC) $(INCLUDE) $(FRAMEWORK) $(MLX) $(LIB) -o $(NAME) $(OBJS)


%.o:		%.c
			$(CC) $(CFLAGS) $(INCLUDE) -c -g $< -o $@

all:	$(NAME)

clean:
		@$(RM) $(OBJS)
		@$(MAKE) fclean -C ./src/libft
		# @echo "$(NAME): $(YEL)Object files deleted$(DEF)"

fclean:	clean
		@$(RM) $(NAME)
		# @echo "$(NAME): $(YEL)Executable file deleted$(DEF)"

re:		fclean all

.PHONY:	all clean fclean re
